<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robotic Arm</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- NAVIGATION BAR -->
    <nav class="navbar">
        <a href="#presets">Presets</a>
        <a href="#setpoint">Point</a>
        <a href="#record">Record</a>
        <a href="#torque">Torque</a>
        <a href="#controller">Controller</a>
        <a href="#angles">Manual</a>
    </nav>

    <!-- HEADER SECTION -->
    <header>
        <h1>TAJFUNEK ROBOTIC ARM</h1>
    </header>
    <hr>

    <main>
        <!-- CENTER SELECT SECTION -->
        <section class="center-select">
            <div class="track-wrapper">
                <div class="button-track" id="scrollTrack">
                    {% for i in range(1, 10) %}
                        <button>{{ i }}</button>
                    {% endfor %}
                </div>
            </div>
        </section>

        <!-- PRESETS SECTION -->
        <section id="presets" class="scroll-buttons">
            <h2>Fire Preset</h2>
            <div class="preset-buttons">
                <button onclick="goHome()">Home</button>
                {% for i in range(1, 5) %}
                    <button onclick="movePreset('{{ i }}')">{{ i }}</button>
                {% endfor %}
            </div>
        </section>
        <hr>

        <!-- SET POINT SECTION -->
        <section id="setpoint">
            <h2>Set Point</h2>
            <div class="point-input">
                <input type="number" id="inputX" placeholder="X">
                <input type="number" id="inputY" placeholder="Y">
                <input type="number" id="inputZ" placeholder="Z">
            </div>
        </section>    
        <section id="setpoint" class="scroll-buttons">    
            <div class="preset-buttons">
                <button onclick="moveToPoint('standard')">Normal</button>
                <button onclick="moveToPoint('flat')">Flat</button>
                <button onclick="moveToPoint('vertical_down')">Down</button>
                <button onclick="moveToPoint('vertical_up')">Up</button>
            </div>
        </section>
        <hr>

        <!-- RECORD SECTION -->
        <section id="record" class="shrink-buttons">
            <h2>Record</h2>
            <div class="preset-buttons">
                <button onclick="savePosition()">Save</button>
                <button onclick="resetPositions()">Delete</button>
                <button onclick="playPositions()">Play</button>
                <button onclick="stopPositions()">Stop</button>
            </div>
        </section>
        <hr>

        <!-- TORQUE CONTROL SECTION -->
        <section id="torque" class="shrink-buttons">
            <h2>Torque Control</h2>
            <div class="preset-buttons">
                <button onclick="torqueOn()">Torque ON</button>
                <button onclick="torqueOff()">Torque OFF</button>
            </div>
        </section>
        <hr>

        <!-- CONTROLLER SECTION -->
        <section id="controller" class="shrink-buttons">
            <h2>Dualshock PS4 Controller</h2>
            <div class="preset-buttons">
                <button onclick="startPad()">Go</button>
                <button onclick="stopPad()">Stop</button>
            </div>
        </section>
        <hr>

        <!-- ANGLES SECTION -->
        <section id="angles" class="shrink-buttons">
            <h2>Set Angle</h2>
            <div class="preset-buttons">
                <button onclick="enableManualControl()">Manual Control</button>
                <button id="toggleGripper" onclick="toggleGripper()">Toggle Gripper</button>
            </div>
        </section>
        <section id="angles">
            {% set servos = [
                {'label': 'BASE', 'id': 1},
                {'label': 'SHOULDER', 'id': 2},
                {'label': 'ELBOW', 'id': 3},
                {'label': 'WRIST', 'id': 4}
            ] %}
            {% for servo in servos %}
            <div class="servo-block">
                <div class="servo-label">{{ servo.label }}: <span id="angle{{ servo.id }}">90</span>Â°</div>
                <input type="range" min="0" max="180" value="90" id="slider{{ servo.id }}" disabled>
            </div>
            {% endfor %}
        </section>
    </main>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
